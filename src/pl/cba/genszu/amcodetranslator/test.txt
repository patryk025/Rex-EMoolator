@IF(IREXPOSX,"!_",$1,"{L_BRET^SET(FALSE);}","")
@IF("VARMELODIA'3","","{BRETURN^SET(FALSE);}")
{@IF("ANNREKSIO^ISPLAYING("DEZINTEGRACJAL")'TRUE||ANNREKSIO^ISPLAYING("DEZINTEGRACJAP")'TRUE||ANNREKSIO^ISPLAYING("ZPLANSZY22")'TRUE","{@BREAK();}","");IREXPOSX^SET(-1);IREXPOSY^SET(-1);@IF("ANNREKSIO^GETEVENTNAME()'"L"","{ANNREKSIO^PLAY("DEZINTEGRACJAL");}","{ANNREKSIO^PLAY("DEZINTEGRACJAP");}");BEHPLAYHENSFX^RUN();};
{@IF("ANNREKSIO^ISPLAYING("DEZINTEGRACJAL")'TRUE&&ANNREKSIO^ISPLAYING("DEZINTEGRACJAP")'TRUE||ANNREKSIO^ISPLAYING("ZPLANSZY22")'TRUE","{@BREAK();}","");IREXPOSX^SET(-1);IREXPOSY^SET(-1);@IF("ANNREKSIO^GETEVENTNAME()'"L"","{ANNREKSIO^PLAY("DEZINTEGRACJAL");}","{ANNREKSIO^PLAY("DEZINTEGRACJAP");}");BEHPLAYHENSFX^RUN();};
{@IF("ANNREKSIO^ISPLAYING("DEZINTEGRACJAL")'TRUE||ANNREKSIO^ISPLAYING("DEZINTEGRACJAP")'TRUE&&ANNREKSIO^ISPLAYING("ZPLANSZY22")'TRUE","{@BREAK();}","");IREXPOSX^SET(-1);IREXPOSY^SET(-1);@IF("ANNREKSIO^GETEVENTNAME()'"L"","{ANNREKSIO^PLAY("DEZINTEGRACJAL");}","{ANNREKSIO^PLAY("DEZINTEGRACJAP");}");BEHPLAYHENSFX^RUN();};
@LOOP("{@INT("L_IDIGIT",SPASSWORD^GET([_I_-5+SPASSWORD^LENGTH()]));*["ZNACZKI"+_I_]^SHOW();*["ZNACZKI"+_I_]^SETFRAME([L_IDIGIT-1]);}",[5-SPASSWORD^LENGTH()],SPASSWORD^LENGTH(),1)
@LOOP("{*["GES"+_I_+"_BUTTON"]^ENABLE();*["GES"+_I_]^PLAY("RANDOM");}",1,6,1)
@LOOP("{@INT("L_IDIGIT",SPASSWORD^GET([_I_-5+SPASSWORD^LENGTH()]));*["ZNACZKI"+_I_]^SHOW();*["ZNACZKI"+_I_]^SETFRAME([L_IDIGIT-1]);}",[5-SPASSWORD^LENGTH()],SPASSWORD^LENGTH(),1)
@LOOP("{@IF("ARRFIELDSSTATE^GET(_I_)'5","{L_BFAILURE^SET(TRUE);}","");@IF("ARRFIELDSSTATE^GET(_I_)!'3&&ARRFIELDSSTATE^GET(_I_)!'4","{L_BSUCCESS^SET(FALSE);}","");}",0,16,1)
{@INT("L_ICLONEINDEX",THIS^GETCLONEINDEX());@INT("L_IFRAMEINDEX",THIS^GETCFRAMEINEVENT());@IF("ARRFALLING^GET(L_ICLONEINDEX,1)'L_IFRAMEINDEX","{*["ANNFALLINGROCK_"+L_ICLONEINDEX]^STOP(TRUE);}","");}
{VARSTEMP0^SET(["BEHCLICK_"+SOBJECT|IDNAME]);VARSLASTFOCUS^SET(SOBJECT|IDNAME);@IF("VARSCURRENTITEM","!_",""NULL"","BFITMP2","BFITMP3");}
SOBJECT|IPARAM0^SET(1)
{@LOOP("{S1^SET(["ENEMY"+_I_]);SPLAYERGOON^REMOVEBEHAVIOUR(["ONBRUTALCHANGED^"+S1]);SPLAYERGOON^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+S1],"BEHGOONENEMYNOCOLL");}",0,IENEMYNO,1);}
{S1^SET(["ENEMY"+IENEMYNO]);CLSCHASZCZEENEMYOBJ^NEW(S1,0,IX,IY);GENEMIES^ADD(S1);GENEMYNAMES^ADD(S1);SPLAYERGOON^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+S1],"BEHGOONENEMY");IENEMYNO^INC();ARRMAPA^SET(IX,IY,S1);SPOLE^SET("");}
ART0^GET([ART0^GETSIZE()-1])
{@IF("ICIK","_",ART0^GET([ART0^GETSIZE()-1]),"BFITMP35","");}
{VARBTEMP1^SET(ANNREKSIO^ISPLAYING("UP"));@IF("VARBTEMP1", "_", "FALSE", "BEHONMOVEUP", "");}
{ARRCARS^ADD(ARRCARNAMES^GET(0),ARRCARNAMES^GET(1),ARRCARNAMES^GET(2),ARRCARNAMES^GET(3));BEHINITFILTER^RUN();ARRKEYSACCEL^ADD("UP", "S", "J", "8");ARRKEYSRIGHT^ADD("RIGHT", "X", "M", "6");ARRKEYSLEFT^ADD("LEFT", "Z", "N", "4");ARRDIRX^ADD(0.0, 0.0, 0.0, 0..0);ARRDIRY^ADD(0.0, 0.0, 0.0, 0..0);ARRSPEED^ADD(0.0, 0.0, 0.0, 0.0);ARRPOSX^ADD(0.0, 0.0, 0.0, 0.0);ARRPOSY^ADD(0.0, 0.0, 0.0, 0.0);ARRLASTPOSX^ADD(0.0, 0.0, 0.0, 0.0);ARRLASTPOSY^ADD(0.0, 0.0, 0.0, 0.0);ARRDISPX^ADD(0.0, 0.0, 0.0, 0.0);ARRDISPY^ADD(0.0, 0.0, 0.0, 0.0);ARRSTARTPOSX^ADD(200,200,150, 150);ARRSTARTPOSY^ADD(30,65,30,65);ARRREVERSE^ADD(0,0,0,0);ARRPRENEXTLAP^ADD(0,0,0,0);ARRANGLE^ADD(0.0, 0.0, 0.0, 0.0);ARRTOANGLE^ADD(0.0, 0.0, 0.0, 0.0);ARRSLOWDOWN^ADD(0,0,0,0);ARRPRIORITY^ADD(5,5,5,5);ARRNUMPATH^ADD(0,0,0,0);ARRLAP^ADD(0,0,0,0);ARRLAPTIME^ADD(0,0,0,0);ARRROUTE^ADD(0,0,0,0);ARRPATHX0^ADD(253,377,491,617,701,744,762,761,742,716,679,652,633,592,561,526,474,409,362,326,302,309,340,390,446,529,631,683,693,654,455,260,152,114,94,127,146,146,120,113,167,216);ARRPATHY0^ADD(59,75,59,54,63,85,135,200,285,323,321,280,214,197,259,294,343,401,401,373,258,208,181,182,247,343,394,444,492,526,533,518,503,473,397,342,284,226,166,102,60,57);ARRPATHX1^ADD(264,424,548,616,678,733,755,766,754,738,704,680,659,639,607,579,563,505,462,418,385,346,316,297,290,304,323,362,397,434,462,545,628,672,689,665,582,448,307,175,107,97,119,138,138,136,139,170,223);ARRPATHY1^ADD(63,75,52,47,71,94,138,214,272,293,306,303,279,229,210,224,256,302,356,394,399,382,344,293,246,204,187,179,192,228,284,351,395,444,486,515,543,528,544,493,440,386,337,281,216,134,72,49,53);ARRPATHX2^ADD(270,379,517,636,708,740,754,758,759,757,745,729,708,679,659,631,612,584,564,541,507,481,455,432,400,349,319,308,303,326,364,408,447,489,563,652,696,697,682,646,573,286,195,139,105,93,95,117,135,136,120,120,134,163,207;ARRPATHY2^ADD(64,73,56,52,68,89,110,144,206,251,291,314,326,317,287,236,227,228,251,284,306,336,370,388,391,386,359,310,253,210,205,226,267,309,355,416,460,483,510,524,534,520,494,476,454,426,386,356,317,256,208,157,101,71,59;ARRPATHX3^ADD(264,424,548,616,678,733,755,766,754,738,704,680,659,639,607,579,563,505,462,418,385,346,316,297,290,304,323,362,397,434,462,545,628,672,689,665,582,448,307,175,107,97,119,138,138,136,139,170,223);ARRPATHY3^ADD(63,75,52,47,71,94,138,214,272,293,306,303,279,229,210,224,256,302,356,394,399,382,344,293,246,204,187,179,192,228,284,351,395,444,486,515,543,528,544,493,440,386,337,281,216,134,72,49,53);IMGBRIDGE^SETOPACITY(200);IMGOVERLAY^SETOPACITY(200);VARPLAYER^SET(ARRCARINDICES^GET(0));BEHINITPLAYER^RUN();VARPLAYER^SET(ARRCARINDICES^GET(1));BEHINITPLAYER^RUN();VARPLAYER^SET(ARRCARINDICES^GET(2));BEHINITPLAYER^RUN();VARPLAYER^SET(ARRCARINDICES^GET(3));BEHINITPLAYER^RUN();SNDINTRO^PLAY();}
{ANNOBJECT0^STOP(FALSE);ANNOBJECT0^SETFRAME"STATE0",1);}
{@IF(ANNREX^ISPLAYING(),"_","TRUE","BFITMP23","BFITMP24");@IF(ANNKRET^ISPLAYING(),"_","TRUE","BFITMP25","BFITMP26");@IF("VARIFIRSTENTER'1||VARBLOCKSCENE'TRUE","BFITMP27","");@IF("VARBSEQSTOPABLE'FALSE&&VARBSEQPLAYING'TRUE","BFITMP28","");@IF("VARSTEMP0^FIND("GADA")>-1||VARSTEMP1^FIND("GADA")>-1","BFITMP31","BFITMP32");__CLICK__^RUN();}